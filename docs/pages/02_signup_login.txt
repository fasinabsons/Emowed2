# PAGE SPECIFICATION: SIGNUP & LOGIN PAGES

## 1. SIGNUP PAGE

### PAGE DETAILS
- **URL:** `/signup`
- **Access:** Public
- **Purpose:** Convert visitors to registered users
- **Target Conversion:** > 60% completion rate

---

### LAYOUT

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SPLIT SCREEN LAYOUT                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                            â”‚
â”‚  LEFT SIDE (50%)        â”‚  RIGHT SIDE (50%)â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•       â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”‚                         â”‚                  â”‚
â”‚  ğŸ‰ Animated            â”‚  Sign Up Form    â”‚
â”‚  Couple Journey         â”‚                  â”‚
â”‚                         â”‚  [Continue with  â”‚
â”‚  Testimonials           â”‚   Google]        â”‚
â”‚  Rotating:              â”‚                  â”‚
â”‚  "Best decision!"       â”‚  [Continue with  â”‚
â”‚  - Rahul & Priya        â”‚   Apple]         â”‚
â”‚                         â”‚                  â”‚
â”‚  Trust Badges:          â”‚  â”€â”€â”€ OR â”€â”€â”€      â”‚
â”‚  âœ“ 10,000+ couples      â”‚                  â”‚
â”‚  âœ“ 4.8â˜… rating          â”‚  Email:          â”‚
â”‚  âœ“ Featured in TOI      â”‚  [___________]   â”‚
â”‚                         â”‚                  â”‚
â”‚                         â”‚  Password:       â”‚
â”‚                         â”‚  [___________]   â”‚
â”‚                         â”‚  ğŸ‘ï¸ Show/Hide   â”‚
â”‚                         â”‚                  â”‚
â”‚                         â”‚  Confirm Pass:   â”‚
â”‚                         â”‚  [___________]   â”‚
â”‚                         â”‚                  â”‚
â”‚                         â”‚  Full Name:      â”‚
â”‚                         â”‚  [___________]   â”‚
â”‚                         â”‚                  â”‚
â”‚                         â”‚  Phone (Opt):    â”‚
â”‚                         â”‚  [+91-_______]   â”‚
â”‚                         â”‚                  â”‚
â”‚                         â”‚  Age:            â”‚
â”‚                         â”‚  [Dropdown â–¼]    â”‚
â”‚                         â”‚                  â”‚
â”‚                         â”‚  Relationship:   â”‚
â”‚                         â”‚  [Single â–¼]      â”‚
â”‚                         â”‚  [Skip for now]  â”‚
â”‚                         â”‚                  â”‚
â”‚                         â”‚  [âœ“] I agree to  â”‚
â”‚                         â”‚  Terms & Privacy â”‚
â”‚                         â”‚                  â”‚
â”‚                         â”‚  [Create Account]â”‚
â”‚                         â”‚                  â”‚
â”‚                         â”‚  Have account?   â”‚
â”‚                         â”‚  [Login]         â”‚
â”‚                         â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### FORM FIELDS SPECIFICATION

#### 1. Social Sign-Up Buttons

```tsx
<SocialButtons>
  <Button 
    variant="outline" 
    icon={<GoogleIcon />}
    onClick={signInWithGoogle}
  >
    Continue with Google
  </Button>
  
  <Button 
    variant="outline" 
    icon={<AppleIcon />}
    onClick={signInWithApple}
  >
    Continue with Apple
  </Button>
</SocialButtons>

<Divider>OR</Divider>
```

**Benefits:**
- Faster sign-up (1-click)
- Auto-fill name, email, photo
- Higher conversion (70% vs 40% for email)

---

#### 2. Email Field

```tsx
<InputField>
  <Label>Email Address *</Label>
  <Input
    type="email"
    placeholder="you@example.com"
    value={email}
    onChange={validateEmail}
    error={emailError}
  />
  {emailError && <ErrorText>{emailError}</ErrorText>}
</InputField>
```

**Validation Rules:**
```javascript
const validateEmail = (email) => {
  const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  if (!regex.test(email)) {
    return "Please enter a valid email address";
  }
  
  // Check if email already exists
  const exists = await checkEmailExists(email);
  if (exists) {
    return "Email already registered. Try logging in instead.";
  }
  
  return null; // Valid
};
```

**Real-time Validation:**
- Check format on blur
- Check existence on blur (debounced)
- Show green checkmark if valid

---

#### 3. Password Field

```tsx
<InputField>
  <Label>Password *</Label>
  <PasswordInput
    value={password}
    onChange={validatePassword}
    showStrength
    showToggle
  />
  <PasswordStrength strength={passwordStrength} />
  {passwordError && <ErrorText>{passwordError}</ErrorText>}
</InputField>
```

**Password Requirements:**
```javascript
Requirements:
âœ“ Minimum 8 characters
âœ“ At least 1 uppercase letter
âœ“ At least 1 lowercase letter
âœ“ At least 1 number
âœ“ At least 1 special character (@$!%*?&)

Strength Indicator:
- Weak (red): < 3 requirements met
- Medium (orange): 3-4 requirements met
- Strong (green): All 5 requirements met
```

**Visual Feedback:**
```tsx
<PasswordStrength>
  <StrengthBar strength="strong" />
  <StrengthText>Strong password ğŸ’ª</StrengthText>
  <Requirements>
    <Requirement met>âœ“ 8+ characters</Requirement>
    <Requirement met>âœ“ Uppercase letter</Requirement>
    <Requirement met>âœ“ Lowercase letter</Requirement>
    <Requirement met>âœ“ Number</Requirement>
    <Requirement met>âœ“ Special character</Requirement>
  </Requirements>
</PasswordStrength>
```

---

#### 4. Confirm Password Field

```tsx
<InputField>
  <Label>Confirm Password *</Label>
  <Input
    type="password"
    value={confirmPassword}
    onChange={checkPasswordMatch}
  />
  {!passwordsMatch && (
    <ErrorText>Passwords don't match</ErrorText>
  )}
  {passwordsMatch && (
    <SuccessText>âœ“ Passwords match</SuccessText>
  )}
</InputField>
```

**Real-time Matching:**
- Check on every keystroke
- Show error/success immediately
- Disable submit if no match

---

#### 5. Full Name Field

```tsx
<InputField>
  <Label>Full Name *</Label>
  <Input
    type="text"
    placeholder="John Doe"
    value={fullName}
    onChange={validateName}
  />
  <Hint>First and last name required</Hint>
  {nameError && <ErrorText>{nameError}</ErrorText>}
</InputField>
```

**Validation:**
```javascript
const validateName = (name) => {
  const words = name.trim().split(' ');
  if (words.length < 2) {
    return "Please enter your full name (first and last)";
  }
  if (name.length < 3) {
    return "Name must be at least 3 characters";
  }
  return null;
};
```

---

#### 6. Phone Number Field (Optional)

```tsx
<InputField>
  <Label>Phone Number (Optional)</Label>
  <PhoneInput
    defaultCountry="IN"
    value={phone}
    onChange={formatPhone}
  />
  <Hint>For important wedding updates (SMS)</Hint>
</InputField>
```

**Format:** Auto-format to +91-XXXXXXXXXX

---

#### 7. Age Dropdown

```tsx
<InputField>
  <Label>Age *</Label>
  <Select value={age} onChange={setAge}>
    <Option value="">Select your age</Option>
    {Array.from({length: 83}, (_, i) => i + 18).map(age => (
      <Option key={age} value={age}>{age}</Option>
    ))}
  </Select>
  {ageError && <ErrorText>{ageError}</ErrorText>}
</InputField>
```

**Validation:** Must be 18+ (legal requirement)

---

#### 8. Relationship Status (Optional)

```tsx
<InputField>
  <div style={{display: 'flex', justifyContent: 'space-between'}}>
    <Label>Relationship Status</Label>
    <SkipButton onClick={() => setSkipStatus(true)}>
      Skip for now
    </SkipButton>
  </div>
  
  {!skipStatus && (
    <Select value={status} onChange={setStatus}>
      <Option value="single">Single</Option>
      <Option value="committed">In a Relationship</Option>
      <Option value="engaged">Engaged</Option>
      <Option value="married">Married</Option>
      <Option value="divorced">Divorced</Option>
      <Option value="widowed">Widowed</Option>
    </Select>
  )}
  
  <Hint>
    {skipStatus 
      ? "You can update this later in settings" 
      : "Help us personalize your experience"}
  </Hint>
</InputField>
```

**Logic:**
- Default: Single
- If skipped: Auto-set to Single
- Can change later in profile settings

---

#### 9. Terms & Conditions Checkbox

```tsx
<Checkbox>
  <input type="checkbox" checked={agreedToTerms} onChange={setAgreedToTerms} />
  <Label>
    I agree to the <Link href="/terms">Terms of Service</Link> and{' '}
    <Link href="/privacy">Privacy Policy</Link>
  </Label>
</Checkbox>

{!agreedToTerms && submitAttempted && (
  <ErrorText>You must agree to continue</ErrorText>
)}
```

**Required:** Cannot submit without checking

---

### SUBMIT BUTTON

```tsx
<SubmitButton
  disabled={!formValid || loading}
  onClick={handleSubmit}
>
  {loading ? (
    <>
      <Spinner /> Creating Account...
    </>
  ) : (
    <>
      Create Account <ArrowRight />
    </>
  )}
</SubmitButton>
```

**States:**
- Default: "Create Account"
- Loading: "Creating Account..." + spinner
- Success: Redirect (no state)
- Error: Show error toast, button resets

---

### FORM SUBMISSION LOGIC

```typescript
const handleSubmit = async (e) => {
  e.preventDefault();
  setSubmitAttempted(true);
  
  // Validate all fields
  const errors = validate(formData);
  if (errors.length > 0) {
    setFormErrors(errors);
    toast.error('Please fix the errors before continuing');
    return;
  }
  
  setLoading(true);
  
  try {
    // 1. Create auth user (Supabase Auth)
    const { data: authData, error: authError } = await supabase.auth.signUp({
      email: formData.email,
      password: formData.password,
      options: {
        data: {
          full_name: formData.fullName,
        },
      },
    });
    
    if (authError) throw authError;
    
    // 2. Insert into users table
    const { error: dbError } = await supabase
      .from('users')
      .insert({
        id: authData.user.id,
        email: formData.email,
        full_name: formData.fullName,
        phone: formData.phone || null,
        age: parseInt(formData.age),
        relationship_status: formData.skipStatus ? 'single' : formData.status,
        age_verified: formData.age >= 18,
      });
    
    if (dbError) throw dbError;
    
    // 3. Send verification email (automatic via Supabase)
    
    // 4. Show success message
    toast.success('Account created! Please check your email to verify.');
    
    // 5. Redirect to dashboard (email verification modal will show)
    setTimeout(() => {
      router.push('/dashboard');
    }, 2000);
    
  } catch (error) {
    console.error('Signup error:', error);
    toast.error(error.message || 'Signup failed. Please try again.');
  } finally {
    setLoading(false);
  }
};
```

---

### ERROR HANDLING

**Common Errors & Messages:**
```typescript
const errorMessages = {
  'User already registered': 'This email is already registered. Try logging in instead.',
  'Invalid email': 'Please enter a valid email address.',
  'Weak password': 'Password must be at least 8 characters with uppercase, number, and special character.',
  'Network error': 'Connection issue. Please check your internet and try again.',
  'Server error': 'Something went wrong on our end. Please try again.',
};
```

**Display:**
- Inline errors: Below field (red text)
- Form-level errors: Toast notification (top-right)
- Success: Toast + redirect

---

## 2. LOGIN PAGE

### LAYOUT

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SPLIT SCREEN (Similar to Signup)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                            â”‚
â”‚  LEFT SIDE              â”‚  RIGHT SIDE      â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•           â”‚  â•â•â•â•â•â•â•â•â•â•â•     â”‚
â”‚                         â”‚                  â”‚
â”‚  Welcome Back! ğŸ’•       â”‚  Login Form      â”‚
â”‚                         â”‚                  â”‚
â”‚  [Animated Hearts]      â”‚  [Google Login]  â”‚
â”‚                         â”‚                  â”‚
â”‚  "Continue your         â”‚  [Apple Login]   â”‚
â”‚  journey..."            â”‚                  â”‚
â”‚                         â”‚  â”€â”€â”€ OR â”€â”€â”€      â”‚
â”‚                         â”‚                  â”‚
â”‚                         â”‚  Email:          â”‚
â”‚                         â”‚  [___________]   â”‚
â”‚                         â”‚                  â”‚
â”‚                         â”‚  Password:       â”‚
â”‚                         â”‚  [___________]   â”‚
â”‚                         â”‚  ğŸ‘ï¸ Show/Hide   â”‚
â”‚                         â”‚                  â”‚
â”‚                         â”‚  [âœ“] Remember me â”‚
â”‚                         â”‚                  â”‚
â”‚                         â”‚  [Login]         â”‚
â”‚                         â”‚                  â”‚
â”‚                         â”‚  [Forgot Pass?]  â”‚
â”‚                         â”‚                  â”‚
â”‚                         â”‚  No account?     â”‚
â”‚                         â”‚  [Sign Up]       â”‚
â”‚                         â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### LOGIN FORM FIELDS

#### Email Field
```tsx
<InputField>
  <Label>Email Address</Label>
  <Input
    type="email"
    placeholder="you@example.com"
    autoComplete="email"
    value={email}
    onChange={setEmail}
  />
</InputField>
```

#### Password Field
```tsx
<InputField>
  <Label>Password</Label>
  <PasswordInput
    value={password}
    autoComplete="current-password"
    showToggle
  />
</InputField>
```

#### Remember Me Checkbox
```tsx
<Checkbox>
  <input type="checkbox" checked={rememberMe} onChange={setRememberMe} />
  <Label>Remember me for 30 days</Label>
</Checkbox>
```

---

### LOGIN LOGIC

```typescript
const handleLogin = async (e) => {
  e.preventDefault();
  setLoading(true);
  
  try {
    const { data, error } = await supabase.auth.signInWithPassword({
      email,
      password,
    });
    
    if (error) throw error;
    
    // Set remember me cookie
    if (rememberMe) {
      setCookie('remember_me', data.session.access_token, { maxAge: 30 * 24 * 60 * 60 });
    }
    
    toast.success('Welcome back!');
    
    // Redirect based on user status
    const { data: userData } = await supabase
      .from('users')
      .select('relationship_status')
      .eq('id', data.user.id)
      .single();
    
    if (userData.relationship_status === 'single') {
      router.push('/dashboard');
    } else if (userData.relationship_status === 'engaged') {
      router.push('/wedding/dashboard');
    } else if (userData.relationship_status === 'married') {
      router.push('/post-marriage');
    }
    
  } catch (error) {
    if (error.message.includes('Invalid login credentials')) {
      toast.error('Incorrect email or password. Please try again.');
    } else {
      toast.error('Login failed. Please try again.');
    }
  } finally {
    setLoading(false);
  }
};
```

---

### FORGOT PASSWORD FLOW

**Modal:**
```tsx
<ForgotPasswordModal>
  <Heading>Reset Your Password</Heading>
  <Text>
    Enter your email address and we'll send you a link to reset your password.
  </Text>
  
  <InputField>
    <Label>Email Address</Label>
    <Input
      type="email"
      value={resetEmail}
      onChange={setResetEmail}
    />
  </InputField>
  
  <Button onClick={sendResetEmail}>
    Send Reset Link
  </Button>
</ForgotPasswordModal>
```

**Backend:**
```typescript
const sendResetEmail = async () => {
  const { error } = await supabase.auth.resetPasswordForEmail(resetEmail, {
    redirectTo: 'https://emowed.com/reset-password',
  });
  
  if (error) {
    toast.error('Failed to send reset email');
  } else {
    toast.success('Check your email for reset link');
    closeModal();
  }
};
```

---

## MOBILE OPTIMIZATION

### Responsive Design
```
Desktop (>768px): Split screen
Mobile (<768px): Single column, form only
```

### Mobile-Specific Features
```tsx
// Auto-focus first field on mobile
<Input autoFocus={isMobile} />

// Keyboard type optimization
<Input type="email" inputMode="email" />
<Input type="tel" inputMode="numeric" />

// Disable autocorrect for email
<Input autoCorrect="off" autoCapitalize="none" />
```

---

## A/B TESTING VARIATIONS

### Test 1: Form Length
- **A:** Full form (all fields visible)
- **B:** Multi-step form (3 steps: Email/Pass â†’ Name/Age â†’ Status)

### Test 2: Social Buttons
- **A:** Google + Apple (top)
- **B:** Email first, social at bottom

### Test 3: Copy
- **A:** "Create Account"
- **B:** "Join 10,000+ Couples"

---

## SUCCESS METRICS

**Signup Page:**
- Form abandonment rate: < 30%
- Time to complete: < 2 minutes
- Social login usage: > 50%
- Verification email open rate: > 60%

**Login Page:**
- Failed login attempts: < 20%
- Remember me usage: > 70%
- Password reset requests: < 10%

---

This comprehensive signup/login flow ensures maximum conversions while maintaining security! ğŸ¯

